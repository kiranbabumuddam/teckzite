function fullScreen(){function e(){$(document).on(MOUSEWHEEL,function(e){if("fullscreen"==pageType){var t=e.originalEvent.deltaY?-e.originalEvent.deltaY:e.originalEvent.wheelDelta?e.originalEvent.wheelDelta:-e.originalEvent.detail;if(e.preventDefault(),t<0){if(e.originalEvent.wheelDelta>-35)return!1;if(n.currentNo==n.sectionLen)return!1;r.direction(t)}else if(t>0){if(e.originalEvent.wheelDelta<35)return!1;if(0==n.currentNo)return!1;r.direction(t)}}})}function t(e){var t=e.originalEvent.touches[0].pageX,n=e.originalEvent.touches[0].pageY;t=Math.floor(t),n=Math.floor(n);var i={x:t,y:n};return i}$("html,body").animate({scrollTop:0},0);var n={$s:$(".section-container"),point:new Array,title:new Array,parsent:0,inc:0,currentNo:0,currentID:0,sectionLen:0,scr:0,motion:!1,breakFlg:!1,chapterFlg:!1,firstFlg:!1};if(dis15=15,dis30=30,dis60=60,dis90=90,dis120=120,dis150=150,n.sectionLen=n.$s.length-1,n.$s.eq(n.currentNo).css({opacity:1}),TweenLite.set(n.$s.not(".current"),{y:"15px"}),"en"==LANG)for(var i=1;i<n.sectionLen;i++){var o=n.$s.eq(i).find(".title");n.title[i]=o.text(),o.text("");for(var a=0;n.title[i].length>a;a++)o.append("<span>"+n.title[i].substr(a,1)+"</span>")}var r={direction:function(e){return 1!=n.motion&&(n.motion=!0,e>0?n.currentNo--:n.currentNo++,void r.motion())},move:function(e){return 1!=n.motion&&(n.motion=!0,n.currentNo=e,void r.motion())},motion:function(){switch(n.firstFlg){case!1:TweenLite.set($(".section-container.current,#section-bg"),{opacity:0}),TweenLite.set($("#header,#chapter,.scroll-down,.scroll-up"),{autoAlpha:0,display:"none"}),TweenLite.set($("#header"),{y:-15}),TweenLite.set($(".scroll-down,.scroll-up"),{y:15}),"sp"!=device.size?TweenLite.set($("#chapter"),{x:-30}):TweenLite.set($("#chapter"),{y:-15});var e=1.2,t=3.8;break;case!0:var e=0,t=1}new TweenMax.to($(".section-container.current,#section-bg"),.68,{delay:e,y:"-15px",opacity:0,ease:Elastic.easeIn.config(3.5,5.1),onUpdate:function(){function e(){if($("#page-body-container .objects").length<=0)return!1;for(var e=$("#page-body-container .objects").length-1;e>=0;e--){new TweenMax.staggerTo($("#page-body-container .objects").eq(e).find("span"),.78,{opacity:1,y:0,ease:Power2.easeOut},.1)}}n.firstFlg=!0,$(".section-container.current,#chapter>ul>li,#chapter>ul>li>*").removeClass("current"),n.$s.eq(n.currentNo).addClass("current"),$("#chapter>ul>li>*").eq(n.currentNo).addClass("current"),2!=n.currentNo&&5!=n.currentNo&&8!=n.currentNo||$("#chapter>ul>li>*").eq(n.currentNo-1).addClass("current"),$("#chapter>ul>li>.current").parent("li").addClass("current"),TweenLite.to($("#page-body-container .objects").find(".top"),.3,{opacity:0,y:50,ease:Power2.easeOut}),TweenLite.to($("#page-body-container .objects").find(".bottom"),.3,{opacity:0,y:-50,ease:Power2.easeOut}),TweenLite.set($(".section-container.current .kv-text .title span,.section-container.current .section-text .title span"),{opacity:0}),TweenLite.set($(".section-container.current .kv-text .text>span,.section-container.current .section-text .text>span"),{opacity:0,y:10}),TweenMax.killTweensOf($(".section-container.current .kv-text .title span,.section-container.current .section-text .title span")),"sp"==device.size&&0!=n.currentNo&&9!=n.currentNo&&TweenMax.killTweensOf($("#header,.scroll-down")),n.currentID=$(".section-container.current").attr("id");var i=this.progress();if(i=Math.ceil(100*i),i>0){TweenLite.set($(".section-container.current .bg"),{opacity:0});var o=.68;switch(n.currentID){case"section1":o=6.68}if("sp"!=device.size){new TweenMax.to($("#header,#chapter"),.68,{delay:t,autoAlpha:1,display:"block",y:0,x:0,ease:Power2.easeOut});if("section10"==n.currentID){TweenLite.set($("#section-bg"),{opacity:0,y:0});new TweenMax.to($("#section-bg"),.68,{opacity:1,ease:Power2.easeOut}),new TweenMax.to($(".scroll-down"),.68,{autoAlpha:0,display:"none",y:15,x:0,ease:Power2.easeOut}),new TweenMax.to($(".scroll-up"),.68,{delay:t,autoAlpha:1,display:"block",y:0,x:0,ease:Power2.easeOut})}else{new TweenMax.to($(".scroll-up"),.68,{autoAlpha:0,display:"none",y:15,x:0,ease:Power2.easeOut}),new TweenMax.to($(".scroll-down"),.68,{delay:t,autoAlpha:1,display:"block",y:0,x:0,ease:Power2.easeOut}),new TweenMax.to($(".section-container.current").find(".bg"),o,{opacity:1,ease:Power2.easeOut})}}else{new TweenMax.to($(".section-container.current").find(".bg"),o,{opacity:1,ease:Power2.easeOut});if("section1"==n.currentID||"section10"==n.currentID){new TweenMax.to($("#header"),.68,{delay:t,autoAlpha:1,display:"block",y:0,x:0,ease:Power2.easeOut}),new TweenMax.to($("#chapter"),.68,{autoAlpha:0,display:"none",y:-15,x:0,ease:Power2.easeOut})}else{new TweenMax.to($("#header"),.68,{autoAlpha:0,display:"none",y:-15,x:0,ease:Power2.easeOut}),new TweenMax.to($("#chapter"),.68,{delay:t,autoAlpha:1,display:"block",y:0,x:0,ease:Power2.easeOut})}if("section1"==n.currentID){new TweenMax.to($(".scroll-down"),.68,{delay:t,autoAlpha:1,display:"block",y:0,x:0,ease:Power2.easeOut})}else{new TweenMax.to($(".scroll-down"),.68,{autoAlpha:0,display:"none",y:15,x:0,ease:Power2.easeOut})}if("section10"==n.currentID){TweenLite.set($("#section-bg"),{opacity:0,y:0});new TweenMax.to($("#section-bg"),.68,{opacity:1,ease:Power2.easeOut}),new TweenMax.to($(".scroll-up"),.68,{delay:t,autoAlpha:1,display:"block",y:0,x:0,ease:Power2.easeOut})}else{new TweenMax.to($(".scroll-up"),.68,{autoAlpha:0,display:"none",y:15,x:0,ease:Power2.easeOut})}}}if(i>50){new TweenMax.to($(".section-container.current"),1.28,{y:"0px",opacity:1,ease:Elastic.easeOut.config(1.5,5.1),onComplete:function(){TweenLite.set(n.$s.not(".current"),{y:"15px"}),n.motion=!1;new TweenMax.to($("#gps"),.68,{opacity:1,y:0,x:0,ease:Power2.easeOut})}});TweenLite.set($("#gps,.section-container .section-text .logo,.section-container.current .section-text .btn"),{opacity:0,y:10,x:0});for(var a=(new TweenMax.to($(".section-container.current .section-text .logo"),.88,{opacity:1,y:0,x:0,ease:Power2.easeIn}),new Array),r=$(".section-container.current .kv-text .title span,.section-container.current .section-text .title span").length-1;r>=0;r--)a[r]=r;var s=function(){return Math.random()-.5},c="en"==LANG?.02:.06;a.sort(s);for(var r=$(".section-container.current .kv-text span,.section-container.current .section-text span").length-1;r>=0;r--){new TweenMax.to($(".section-container.current .kv-text .title span,.section-container.current .section-text .title span").eq(a[r]),.88,{delay:c*r,opacity:1,ease:Power2.easeIn})}new TweenMax.to($(".section-container.current .section-text .btn"),.88,{delay:.28,opacity:1,y:0,ease:Power2.easeIn});setTimeout(function(){new TweenMax.to($(".section-container.current .kv-text .text>span,.section-container.current .section-text .text>span"),1.08,{y:0,opacity:1,ease:Power2.easeOut});e()},2e3)}}})},resize:function(){$("#document,.page-container,#page-body-container").width(w).height(h);for(var e=$(".pc-middle").length-1;e>=0;e--)$(".pc-middle").eq(e).css({top:[h-$(".pc-middle").eq(e).height()]/2});if("sp"==device.size){if(!n.breakFlg){n.breakFlg=!0;new TweenMax.to($(".scroll-down,#header"),.68,{autoAlpha:0,display:"none",y:0,x:0,ease:Power2.easeOut})}}else n.breakFlg&&(n.breakFlg=!1)}};if("fullscreen"==pageType&&(r.resize(),r.motion(),e()),$w.on("resize",function(){"fullscreen"==pageType&&r.resize()}),$("#chapter").find("li,span").on("click",function(){var e=$(this).data("move");return n.currentNo!=e&&void r.move(e)}),$(".scroll-up").on("click",function(){r.move(0)}),$(document).keyup(function(e){if("fullscreen"==pageType)if(e.preventDefault(),40==e.keyCode||34==e.keyCode){if(n.currentNo==n.sectionLen)return!1;r.direction(-200)}else if(38==e.keyCode||33==e.keyCode){if(0==n.currentNo)return!1;r.direction(200)}}),Useragnt.mobile||Useragnt.ie||Useragnt.edge)var s=Useragnt.mobile||Useragnt.ie||Useragnt.edge,c="MSPointerDown",l="MSPointerMove";else var s="ontouchstart"in window,c=s?"touchstart":"mousedown",l=s?"touchmove":"mousemove";if(s){var u,c=s?"touchstart":"mousedown",l=s?"touchmove":"mousemove";$(document).on(c,function(e){if("fullscreen"==pageType){var n=t(e);u=n.y}}),$(document).on(l,function(e){if("fullscreen"==pageType){e.preventDefault();var i=t(e);if(i.y<u){if(n.currentNo==n.sectionLen)return!1;r.direction(-200)}else{if(0==n.currentNo)return!1;r.direction(200)}}})}}!function(e,t){function n(e,t){this._animList=t||[],this._cv=e,e&&(this._ctx=e.getContext("2d"))}function i(e,t){n.apply(this,arguments)}function o(){}function a(){this.init.apply(this,arguments)}function r(){this.init.apply(this,arguments)}function s(){this.init.apply(this,arguments)}function c(){w=new n(t.getElementById("cv")),w.add(new r({url:u.top,x:100,y:-15,v:.1})),w.add(new s({url:u.under,x:-30,y:70,v:.1})),w.start(),e.onresize=l,l()}function l(){e.innerWidth<1400?t.getElementById("page-body-container").style.zoom=1:t.getElementById("page-body-container").style.zoom=1}if(pageID=$(".page-container").attr("id"),"vision"!=pageID)return!1;if(Useragnt.mobile||Useragnt.ie||Useragnt.edge)return!1;var h=(Math.PI/180,$("body").hasClass("lang-en")?"../../":"../"),u={top:h+"assets/img/vision/smog_under.png",under:h+"assets/img/vision/smog_under.png"},d=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setInterval(e,16)},p=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearInterval(e)};n.prototype={constructor:n,INTARVAL:16,_loop:function(){var e=this._ctx,t=this._cv.width,n=this._cv.height;e.clearRect(0,0,t,n),e.save(),e.globalCompositeOperation="lighter",this.update(),this.draw(e),e.restore()},add:function(e){if(!o.prototype.isPrototypeOf(e))throw new Error("An argument must be AnimComponent.");this._animList.push(e)},each:function(e,t){for(var n=this._animList,i=0,o=n.length;i<o;i++)e.call(t||this,n[i],i)},debugMode:function(e){this.each(function(t){t.debugMode(e)})},update:function(){this.each(function(e){e.update()})},draw:function(e){this.each(function(t){t.draw(e)})},start:function(){var e=this;!function t(){e._loop(),e._requestID=d(t)}()},stop:function(){p(this._requestID)}},i.prototype=new n,i.prototype._loop=function(){var e=this._ctx,t=this._cv.width,n=this._cv.height;e.save(),e.scale(-1,1),e.translate(-t,0),e.clearRect(0,0,2*t,n),e.globalCompositeOperation="lighter",this.update(),this.draw(e),e.restore()},o.prototype={constructor:o,init:function(e){e||(e={}),this._originalX=this._x=e.x||0,this._originalY=this._y=e.y||0,this._v=e.v||1,this._url=e.url||"",this._loadImage()},_loadImage:function(){this._img=new Image,this._img.src=this._url,this._img.onload=this._onload.bind(this)},debugMode:function(e){this._debugmode=!!e},debugDraw:function(e){},update:function(){},draw:function(e){},start:function(){this._loaded=!0},_onload:function(){this._width=this._img.width,this._height=this._img.height,this.start()}},o.debugColor="rgba(255, 0, 0, 0.3)",a.prototype=new o,a.prototype.update=function(){this._loaded&&(this._y+=this._v,this._y>=this._height+this._originalY&&(this._y=this._originalY))},a.prototype.draw=function(e){this._loaded&&(this._debugmode&&this.debugDraw(e),e.save(),e.translate(this._x,this._y),e.drawImage(this._img,0,0),e.drawImage(this._img,0,-this._height),e.restore())},a.prototype.debugDraw=function(e){this._loaded&&(e.save(),e.translate(this._x,this._y),e.fillStyle=o.debugColor,e.fillRect(0,0,this._width,this._height),e.translate(0,-this._height),e.fillRect(0,0,this._width,this._height),e.restore())},r.prototype=new a,r.prototype._onload=function(){a.prototype._onload.apply(this,arguments),this._limit=Math.abs(this._originalX-this._width)},r.prototype.update=function(){this._loaded&&(this._x-=this._v,this._x<=-this._limit&&(this._x=this._originalX))},r.prototype.draw=function(e){this._loaded&&(this._debugmode&&this.debugDraw(e),e.save(),e.translate(this._x,this._y),e.drawImage(this._img,0,0),e.drawImage(this._img,this._width,0),e.drawImage(this._img,2*this._width,0),e.restore())},r.prototype.debugDraw=function(e){this._loaded&&(e.save(),e.translate(this._x,this._y),e.fillStyle=o.debugColor,e.fillRect(0,0,this._width,this._height),e.translate(this._width,0),e.fillRect(0,0,this._width,this._height),e.translate(this._width,0),e.fillRect(0,0,this._width,this._height),e.restore())},s.prototype=new a,s.prototype._onload=function(){a.prototype._onload.apply(this,arguments),this._limit=Math.abs(this._originalX-this._width)},s.prototype.update=function(){this._loaded&&(this._x+=this._v,this._x>=this._limit&&(this._x=this._originalX))},s.prototype.draw=function(e){this._loaded&&(this._debugmode&&this.debugDraw(e),e.save(),e.translate(this._x,this._y),e.drawImage(this._img,0,0),e.drawImage(this._img,this._width,0),e.drawImage(this._img,2*this._width,0),e.restore())},s.prototype.debugDraw=function(e){this._loaded&&(e.save(),e.translate(this._x,this._y),e.fillStyle=o.debugColor,e.fillRect(0,0,this._width,this._height),e.translate(this._width,0),e.fillRect(0,0,this._width,this._height),e.translate(this._width,0),e.fillRect(0,0,this._width,this._height),e.restore())};var w;t.addEventListener("DOMContentLoaded",c,!1)}(window,document);